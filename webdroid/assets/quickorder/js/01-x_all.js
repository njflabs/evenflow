if(!window.JSSHOP){var JSSHOP=new Object();}if(!window.JSSHOP.ajax){JSSHOP.ajax=new Object();}if(!window.JSSHOP.hookloader){JSSHOP.hookloader=new Object();}if(!window.JSSHOP.jndroid){JSSHOP.jndroid=new Object();}if(!window.JSSHOP.shared){JSSHOP.shared=new Object();}if(!window.JSSHOP.ui){JSSHOP.ui=new Object();}if(!window.JSSHOP.shop){JSSHOP.shop=new Object();}var intervals=[];function clear(a){return function(){clearInterval(intervals[a]);};}function restart(a,b,c){return function(){clear(a)();intervals[a]=setInterval(b,c);};}function scrollToElement(d){var b=document.getElementById(d);var a=0;var c=0;while(b!=null){a+=b.offsetLeft;c+=b.offsetTop;b=b.offsetParent;}if(isJApp=="no"){window.scrollTo(0,c);}else{app.getWVScrollPoint(0,c);}}function getViewportHeight(){if(window.innerHeight!=window.undefined){return window.innerHeight;}if(document.compatMode=="CSS1Compat"){return document.documentElement.clientHeight;}if(document.body){return document.body.clientHeight;}return window.undefined;}function getViewportWidth(){var a=17;if(window.innerWidth!=window.undefined){return window.innerWidth;}if(document.compatMode=="CSS1Compat"){return document.documentElement.clientWidth;}if(document.body){return document.body.clientWidth;}return a;}function getScrollTop(){if(self.pageYOffset){return self.pageYOffset;}else{if(document.documentElement&&document.documentElement.scrollTop){return document.documentElement.scrollTop;}else{if(document.body){return document.body.scrollTop;}}}}JSSHOP.shared.getAppReq=function(a){try{app.doDB(document.getElementById(a).value);}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.shared.getAppReq");}};JSSHOP.shared.getQryVar=function(a,g){try{strQVal=null;var c=a;var f=c.split("&");for(var b=0;b<f.length;b++){var h=f[b].split("=");if(h[0]==g){strQVal=h[1];}}return strQVal;}catch(d){JSSHOP.logJSerror(d,arguments,"JSSHOP.shared.getQryVar");return"NotGood";}};JSSHOP.shared.getElemDUrl=function(b){try{if(b.getAttribute("data-ison")!=null){tDb="";tDison=b.getAttribute("data-ison");tDa=tDison.replace(/:/gi,"&");tDb=tDa.replace(/;/gi,"=");tDb+="&v="+b.value+"&n="+b.name;return tDb;}else{return null;}}catch(a){JSSHOP.logJSerror(a,arguments,"JSSHOP.ui.getElemDUrl");}};JSSHOP.shared.nodesToString=function(c){if(typeof c==="string"){c=document.getElementById(c);}var d=[];var b="";function e(g,f){f(g);g=g.firstChild;while(g){e(g,f);g=g.nextSibling;}}function a(f){tmpNID="";tmpNVal="";if(f.nodeType===1){if((f.id)||(f.name)){if(f.id){tmpNID=f.id;}else{tmpNID=f.name;}tNodeName=f.nodeName.toUpperCase();switch(tNodeName){case"INPUT":tmpNVal=f.value;break;case"TEXTAREA":tmpNVal=f.value;break;case"SELECT":tmpNVal=f.value;break;default:if(f.firstChild.nodeValue){tmpNVal=f.firstChild.nodeValue;}}b+="&"+tmpNID.trim()+"="+tmpNVal.trim();}}}e(c,a);return b;};JSSHOP.shared.getOptIndex=function(b,c){theOptIndex=0;for(var a=0;a<b.length;a++){currIndexVal=b.options[a].value;if(currIndexVal==c){theOptIndex=a;break;}}return theOptIndex;};JSSHOP.shared.setCurrSelectOpt=function(a,e){theIndexVal="noQvalue";var d=a;if(d){for(var b=0;b<d.length;b++){var c=d.options[b].value;if(c==e){theIndexVal=c;d.selectedIndex=b;break;}}}return theIndexVal;};JSSHOP.shared.getCurrSelectOpt=function(a){var d=a.selectedIndex;var c=a.options[d].text;var b=a.options[d].value;return b;};JSSHOP.shared.addCurrSelectOpt=function(b,c,a,d){b.options[b.options.length]=new Option(a,c);};JSSHOP.shared.addOptAtIndex=function(b,d,c,a,e){theOpt=document.createElement("OPTION");theOpt.innerText=a;theOpt.value=c;theOpt.className=e;b.options.add(theOpt,b.options[d]);};JSSHOP.shared.addOptAtVal=function(c,b,d,a,f){selection=null;selection=c;tmpVhasV="no";if(b=="noQvalue"){JSSHOP.shared.addOptAtIndex(c,c.options.length,d,a,f);}else{for(var e=0;e<selection.length;e++){tmpVhasV="no";currIndexVal=selection.options[e].value;if(currIndexVal==b){tmpVhasV="yes";JSSHOP.shared.addOptAtIndex(c,e+1,d,a,f);}}if(tmpVhasV=="no"){}}};JSSHOP.shared.removeOptions=function(a){var b;for(b=a.options.length-1;b>=0;b--){a.remove(b);}};JSSHOP.shared.valVOarr=function(a,b){strVldErr="<b>Oooops..</b>";document.getElementById(b).innerHTML="";iint=0;isValid=true;isFValid=true;len=a.length;while(iint<len){isFValid=true;ts=null;ts=a[iint];theVB=null;theVB=document.getElementById(ts.fid);if(theVB.nodeName.toUpperCase()==="DIV"){theVBval=theVB.innerText;}else{theVBval=theVB.value;}if(document.getElementById(ts.lid)){}if(ts.fvr!=="noQvalue"){ttest=ts.fvr;if(ts.fda==false){if(theVBval==ts.fdv){alert("shr: "+ts.fda);isValid=false;isFValid=false;}}if(!ttest.test(theVBval)){alert("no ttest: "+theVBval);isValid=false;isFValid=false;}if(isFValid===false){strVldErr+="<br>"+ts.fve;}}iint++;}if(isValid==false){strVldErr+="<br>"+ts.fve;theEdiv=document.createElement("div");theEdiv.className="cls-error-form";theEdiv.innerHTML=strVldErr;document.getElementById(b).appendChild(theEdiv);}return isValid;};JSSHOP.shared.valFieldVals=function(d){isFullyVal=true;actType="n";try{var a=d.length;var b=0;while(b<a){if(document.getElementById(d[b])){theElem=document.getElementById(d[b]);if(theElem.getAttribute("data-ison")!=null){tDison=theElem.getAttribute("data-ison");if(tDison.indexOf(":")!=-1){tmpTDivars=tDison.split(":");actType=tmpTDivars[0];if(actType=="v"){veType=tmpTDivars[1];veMinLen=tmpTDivars[2];veMaxLength=tmpTDivars[3];veDefVal=tmpTDivars[4];veLblElID=tmpTDivars[5];veAlertStr=tmpTDivars[6];veDefTtl=tmpTDivars[7];veDefCls=tmpTDivars[8];document.getElementById(veLblElID).className=veDefCls;document.getElementById(veLblElID).innerHTML=stxt[veDefTtl];theElVal=theElem.value;if(theElVal.length<veMinLen){isFullyVal=false;if(veDefVal=="null"){}else{theElem.value=stxt[veDefVal];}theElem.focus();document.getElementById(veLblElID).className="txtBold txtClrRed";document.getElementById(veLblElID).innerHTML=stxt[veAlertStr];}}}}}b++;}}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.shared.valFieldVals");return false;}return isFullyVal;};JSSHOP.shared.initFrmComps=function(a){iint=0;len=a.length;while(iint<len){ts=a[iint];theB=null;theB=document.getElementById(ts.fid);if(ts.fcl!=="noQvalue"){JSSHOP.ui.addEvent(theB,"click",ts.fcl);}if(ts.lid!=="noQvalue"){tlid=ts.lid;try{document.getElementById(tlid).innerText=ts.ltxt;JSSHOP.ui.setLblHighlight(theB,ts.fdv,document.getElementById(tlid),ts.ltxt);}catch(b){alert("dd "+JSON.stringify(ts));}}if(ts.fdv!=="noQvalue"){if(ts.fty=="button"){theB.style.color="#ffffff";}else{JSSHOP.ui.setDefFval(theB,ts.fdv,ts.fda);}}if(ts.fda!=="noQvalue"){}iint++;}};JSSHOP.shared.setFieldVal=function(a,b){try{document.getElementById(a).value=b;}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.shared.setFieldVal");}};JSSHOP.shared.getFieldVal=function(a,b){try{return document.getElementById(a).value;}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.shared.getFieldVal");return b;}};JSSHOP.shared.setFrmFieldVal=function(d,a,b){try{document[d][a].value=b;}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.shared.setFrmFieldVal");}};JSSHOP.shared.getFrmFieldVal=function(d,a,b){try{return document[d][a].value;}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.shared.getFrmFieldVal");return b;}};JSSHOP.shared.sort=function(c,h,e){var d,b;var g;var a;var f;var k;if(e=="sortAsc"){for(d=1;d<c.length;d++){a=c[d];g=a[h];b=d-1;f=c[b];k=f[h];while(b>=0&&k>g){c[b+1]=c[b];b--;if(b>=0){f=c[b];k=f[h];}}c[b+1]=a;}}else{for(d=1;d<c.length;d++){a=c[d];g=a[h];b=d-1;f=c[b];k=f[h];while(b>=0&&k<g){c[b+1]=c[b];b--;if(b>=0){f=c[b];k=f[h];}}c[b+1]=a;}}return c;};JSSHOP.shared.setArrVals=function(f,d,c){tmpVpar=null;tmpVpar=[];tmpSobj=null;tmpSobj={};var a=c.length;var e=0;while(e<a){ts=c[e];tmpSobj=null;tmpSobj={};for(var b in ts){if(f[d][b]){f[d][b]=ts[b];}}e++;}return f;};JSSHOP.shared.getKNVParr=function(c){tmpVpar=null;tmpVpar=[];tmpSobj=null;tmpSobj={};var a=c.length;var d=0;while(d<a){ts=c[d];tmpSobj=null;tmpSobj={};for(var b in ts){tmpSobj["t"]=b;tmpSobj["v"]=ts[b];tmpVpar.push(tmpSobj);}d++;}return tmpVpar;};JSSHOP.shared.setDynFrmVals=function(c,h){var d,e,a,f;tmpVpar=null;tmpVpar=[];tmpSobj={};var g="";for(var b=0;b<c.elements.length;b++){d=c.elements[b];if(!d.getAttribute("name")){continue;}tmpSobj=null;tmpSobj={};e=d.nodeName.toUpperCase()==="INPUT"?d.getAttribute("type").toUpperCase():"TEXT";if(e==="FILE"){for(a=0;a<d.files.length;f+="&"+escape(d.name)+"="+escape(d.files[a++].name)){}}else{if((e!=="RADIO"&&e!=="CHECKBOX")||d.checked){fn=d.name;fv=d.value;fnode=h+fn;if(h=="clear"){d.value="";}else{if(document.getElementById(fnode)){if((h=="dyn_")||(document.getElementById(fnode).nodeName.toUpperCase()=="DIV")){document.getElementById(fnode).innerHTML=fv;}else{g+=fnode+",";JSSHOP.shared.setFieldVal(fnode,fv);}}}}}}};JSSHOP.shared.getDynFrmVals=function(c,j){try{}catch(h){JSSHOP.logJSerror(h,arguments,"JSSHOP.ajax.doAjaxSbmt");}var d,f,a,g;tmpVpar=null;tmpVpar=[];tmpSobj=null;tmpSobj={};for(var b=0;b<c.elements.length;b++){d=c.elements[b];if(!d.getAttribute("name")){continue;}tmpSobj=null;tmpSobj={};f=d.nodeName.toUpperCase()==="INPUT"?d.getAttribute("type").toUpperCase():"TEXT";if(f==="FILE"){for(a=0;a<d.files.length;g+="&"+escape(d.name)+"="+escape(d.files[a++].name)){}}else{if((f!=="RADIO"&&f!=="CHECKBOX")||d.checked){fn=d.name;fnode=j+fn;if(document.getElementById(fnode)){tNN=document.getElementById(fnode).nodeName.toUpperCase();if(tNN=="DIV"){fv=document.getElementById(fnode).innerHTML;}else{if(tNN=="SELECT"){fv=JSSHOP.shared.getCurrSelectOpt(document.getElementById(fnode));}else{fv=document.getElementById(fnode).value;}}d.value=fv;}else{fv=d.value;}tmpSobj[fn]=fv;tmpVpar.push(tmpSobj);}}}return tmpVpar;};JSSHOP.shared.getFrmVals=function(c,j){var d,f,a,h;tmpVpar=null;tmpVpar=[];tmpSobj={};for(var b=0;b<c.elements.length;b++){try{d=c.elements[b];if(!d.getAttribute("name")){continue;}tmpSobj=null;tmpSobj={};f=d.nodeName.toUpperCase()==="INPUT"?d.getAttribute("type").toUpperCase():"TEXT";if(f==="FILE"){for(a=0;a<d.files.length;h+="&"+escape(d.name)+"="+escape(d.files[a++].name)){}}else{if((f!=="RADIO"&&f!=="CHECKBOX")||d.checked){fva=d.value;if(fva.length>=0){fvb=fva.replace('"'," ");fvv=fva.replace("'"," ");fn=escape(d.name);fv=fvv;tmpSobj["t"]=fn;tmpSobj["v"]=fv;tmpVpar.push(tmpSobj);}}}}catch(g){alert(g+" : "+d.getAttribute("name"));}}return tmpVpar;};JSSHOP.shared.setDynFieldVals=function(c,b){if(c){var a=c.length;var h=c;var f=0;for(var d in c){try{fnode=b+d;if(document.getElementById(fnode)){document.getElementById(fnode).value=c[d];}}catch(g){}f++;}}};JSSHOP.shared.setFrmVals=function(f,c,b){if(c){var a=c.length;var e=0;for(var d in c){if(document[f][d]){document[f][d].value=c[d];}}b();}};JSSHOP.shared.utf8_encode=function(a){var h=(a+"");var j="";var b,e;var c=0;b=e=0;c=h.length;for(var d=0;d<c;d++){var g=h.charCodeAt(d);var f=null;if(g<128){e++;}else{if(g>127&&g<2048){f=String.fromCharCode((g>>6)|192)+String.fromCharCode((g&63)|128);}else{f=String.fromCharCode((g>>12)|224)+String.fromCharCode(((g>>6)&63)|128)+String.fromCharCode((g&63)|128);}}if(f!==null){if(e>b){j+=h.substring(b,e);}j+=f;b=e=d+1;}}if(e>b){j+=h.substring(b,h.length);}return j;};JSSHOP.shared.setChckbxPref=function(b,a,f,c,d){try{if(b.checked){JSSHOP.user.setCkiePrfKV(a,f,c);}else{JSSHOP.user.setCkiePrfKV(a,f,d);}}catch(g){alert(g);JSSHOP.logJSerror(g,arguments,"JSSHOP.shared.setChckbxPref");}};JSSHOP.ajax.fnishGeneric=function(f,d,b,a,j,h,g){try{document.getElementById(h).innerHTML=g;}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.ajax.fnishGeneric");}};JSSHOP.ajax.procAjaxRet=function(a,h,f,g,b,d,j,c){try{switch(f){case"parseU":JSSHOP.ajax.fnishGeneric(a,h,f,g,b,j,c);break;default:JSSHOP.ajax.fnishGeneric(a,h,f,g,b,j,c);break;}}catch(k){JSSHOP.logJSerror(k,arguments,"JSSHOP.ajax.procAjaxRet");}};JSSHOP.ajax.procRet=function(c,a){try{if(a[0]["name"]){if(a[0]["name"].toLowerCase()=="aaction"){tmpAVal=a[0]["value"];switch(tmpAVal){case"CViewEditAdminSettings":JSSHOP.ui.popAndFillLbox("new: "+JSON.stringify(a)+" <br> "+c);break;default:JSSHOP.ajax.fnishGeneric(c,prvdr,action,ukey,id,cbElem,cbElemHTML);break;}}}}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.ajax.procRet");}};JSSHOP.ajax.createXMLHTTPObject=function(){var c=false;var a=[function(){return new XMLHttpRequest();},function(){return new ActiveXObject("Msxml2.XMLHTTP");},function(){return new ActiveXObject("Msxml3.XMLHTTP");},function(){return new ActiveXObject("Microsoft.XMLHTTP");}];for(var b=0;b<a.length;b++){try{c=a[b]();}catch(d){continue;}break;}return c;};JSSHOP.ajax.doNuResponse=function(a){tmpNArrDRS=null;tmpNArrDRS={};tmpNArrDRS=a;if(a.st=="nofile"){JSSHOP.ajax.doResponseSave(a);}else{if(a.lz=="y"){strTmpDAS=a.rs;strTmpDS=strTmpDAS.replace('"',"");tmpDFEUStr=LZString.decompressFromEncodedURIComponent(strTmpDS);tmpNArrDRS.rs=tmpDFEUStr;}if(a.ls=="n"){}else{if(a.st=="pending"){setNuLclStrg("localStorage",a.cb,a.rs);}}}theRespCB=window[a.cb];theRespCB(tmpNArrDRS);};JSSHOP.ajax.doResponseSave=function(a){if(a.lz=="y"){JSSHOP.shared.setFrmFieldVal("qconn","rs",LZString.compressToEncodedURIComponent(a.rs));}else{JSSHOP.shared.setFrmFieldVal("qconn","rs",a.rs.replace(/\\(.)/mg,"$1"));}JSSHOP.shared.setFrmFieldVal("qconn","fn",a.fn);JSSHOP.shared.setFrmFieldVal("qconn","fc","save");document["qconn"].submit();};JSSHOP.ajax.doRespConstruct=function(c,a){tmpNDRCArr=null;tmpNDRCArr={};tmpNDRCArr=c;try{aRespArr=JSON.parse(a);tmpNDRCArr.st="error";}catch(b){tmpNDRCArr.rs="noQvalue";}try{tmpNDRCArr.rs=JSON.stringify(aRespArr.data);JSSHOP.ajax.doNuResponse(tmpNDRCArr);}catch(b){tmpNDRCArr.rs=aRespArr.data;JSSHOP.ajax.doNuResponse(tmpNDRCArr);}};JSSHOP.ajax.doNurAjaxPipe=function(a){hasLclStrg="n";aRespArr=null;aRespArr={};tmpQstr="";tmpFRSstr="";tmpQstr+="fc="+a.fc+"&";tmpQstr+="ts="+a.ts+"&";tmpQstr+="fn="+a.fn+"&";tmpQstr+="lz="+a.lz+"&";tmpQstr+="rs="+a.rs+"&";tmpQstr+="q="+JSSHOP.shared.utf8_encode(a.q);pUrl=a.ur+tmpQstr;var b=JSSHOP.ajax.createXMLHTTPObject();tUTA=JSSHOP.shared.urlToArray(pUrl);if(b==false){theCB(theNAxObj);}else{b.onreadystatechange=function(){if(b.readyState==4){JSSHOP.ajax.doRespConstruct(a,b.responseText);}};b.onerror=function(){alert("yikes, we have a connection problem..."+b);};b.open("GET",pUrl,true);picr=b.send(null);}};JSSHOP.ajax.doRequestPrep=function(a){tmppNArrDRP=null;tmppNArrDRP={};tmppNArrDRP=a;if(a.ls=="n"){JSSHOP.ajax.doNurAjaxPipe(a);}else{tLSStr=getNuLclStrg(a.ls,a.cb,"noQvalue");if(tLSStr=="noQvalue"){JSSHOP.ajax.doNurAjaxPipe(a);}else{tmppNArrDRP.rs=tLSStr;tmppNArrDRP.st="saved";JSSHOP.ajax.doNuResponse(tmppNArrDRP);}}};JSSHOP.ajax.doNuAjaxPipe=function(f,a,d){try{var c=JSSHOP.ajax.createXMLHTTPObject();tUTA=JSSHOP.shared.urlToArray(a);if(c==false){d(f,"Error",tUTA);}else{c.onreadystatechange=function(){if(c.readyState==4){if(f=="give"){}d(f,c.responseText,tUTA);}};c.onerror=function(){};c.open("GET",a,true);picr=c.send(null);}}catch(b){alert("doNuAjaxPipe: "+b);d(f,"Error: "+b,tUTA);}};JSSHOP.ajax.doAjaxPipe=function(a,c){try{JSSHOP.ajax.doNuAjaxPipe(null,a,c);}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.ajax.doAjaxPipe");}};JSSHOP.ajax.prepAjaxSbmt=function(b,a,d){try{b.className="cls_button cls_button-medium cls_button-disabled";b.disabled=true;JSSHOP.ajax.doAjaxSbmt(a,d);}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.ajax.prepAjaxSbmt");}};JSSHOP.ajax.prepAjaxPipe=function(b,a,d){try{if(b!=null){b.disabled=true;}JSSHOP.ajax.doNuAjaxPipe(b,a,d);}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.ajax.prepAjaxPipe");}};JSSHOP.ajax.doAjaxSbmt=function(b,g){try{if(!b.action){JSSHOP.logJSerror(d,arguments,"JSSHOP.ajax.doAjaxSbmt: !! No form action set !!");return;}var j=JSSHOP.ajax.createXMLHTTPObject();var f,k,a,c;for(var h=0;h<b.elements.length;h++){f=b.elements[h];if(!f.getAttribute("name")){continue;}k=f.nodeName.toUpperCase()==="INPUT"?f.getAttribute("type").toUpperCase():"TEXT";if(k==="FILE"){for(a=0;a<f.files.length;c+="&"+escape(f.name)+"="+escape(f.files[a++].name)){}}else{if((k!=="RADIO"&&k!=="CHECKBOX")||f.checked){c+="&"+escape(f.name)+"="+escape(f.value);}}}j.onreadystatechange=function(){if(j.readyState==4){g(j.responseText,b.elements);}};j.open(b.method,b.action+"?"+c,true);j.send(null);}catch(d){JSSHOP.logJSerror(d,arguments,"JSSHOP.ajax.doAjaxSbmt");}};JSSHOP.hookloader.hooks={};JSSHOP.hookloader.register=function(a,b){if("undefined"==typeof(JSSHOP.hookloader.hooks[a])){JSSHOP.hookloader.hooks[a]=[];}JSSHOP.hookloader.hooks[a].push(b);};JSSHOP.hookloader.call=function(a,b){if("undefined"!=typeof(JSSHOP.hookloader.hooks[a])){for(i=0;i<JSSHOP.hookloader.hooks[a].length;++i){if(true!=JSSHOP.hookloader.hooks[a][i](b)){break;}}}};JSSHOP.ui.showPopHelp=function(b){try{tmpHlpD=document.createElement("div");if(hlpT[b]&&hlpC[b]){tmpHlpD.innerHTML="<b>"+hlpT[b]+"</b><br><br>"+hlpC[b];}else{tmpHlpD.innerHTML=hlpT["default"]+" key: "+b;}JSSHOP.ui.popAndAppendLbox(tmpHlpD,"y");}catch(a){alert("no JSSHOP.ui.showPopHelp: "+a);}};JSSHOP.ui.showNPopHelp=function(){try{tmpHlpD=document.createElement("div");if(hlpT[currHlpKey]&&hlpC[currHlpKey]){tmpHlpD.innerHTML="<b>"+hlpT[currHlpKey]+"</b><br><br>"+hlpC[currHlpKey];}else{tmpHlpD.innerHTML=hlpT["default"]+" key: "+currHlpKey;}JSSHOP.ui.popAndAppendLbox(tmpHlpD,"y");}catch(a){alert("no showPopHelp: "+a);}};JSSHOP.ui.setNPopHelp=function(a){try{setTimeout("JSSHOP.ui.showNPopHelp()",1080);}catch(b){alert("no setPopHelp : "+b);}};var currHlpKey="page";JSSHOP.ui.getPopHelp=function(a){if(a=="page"){a=pid;}try{tmpv=hlpT.defval;JSSHOP.ui.showPopHelp(a);}catch(b){currHlpKey=a;tmpGetHCO="js/"+jscssprefix+"helpstrings_"+usrlang+".js?";JSSHOP.loadScript(tmpGetHCO,JSSHOP.ui.setNPopHelp,"js");}};JSSHOP.ui.textAreaAdjust=function(a){currH=a.scrollHeight;a.style.height="1px";a.style.height="auto";a.style.height=(25+a.scrollHeight);};JSSHOP.ui.setTinnerHTML=function(c,a){if(a=="loading"){a='<img src="images/misc/loading.gif">';}try{document.getElementById(c).innerHTML=a;}catch(b){JSSHOP.logJSerror(b,arguments,"setTinnerHTML");alert("setTinnerHTML: "+c+" :: "+a+" :: "+b);}};JSSHOP.ui.showHideElement=function(b,c){try{theElement=document.getElementById(b);if(c=="show"){theElement.style.visibility="visible";theElement.style.display="block";}else{theElement.style.visibility="hidden";theElement.style.display="none";}}catch(a){JSSHOP.logJSerror(a,arguments,"JSSHOP.ui.showHideElement");}};JSSHOP.ui.toggleVisibility=function(a){try{theRow=document.getElementById(a);if(theRow.style.display=="none"){theRow.style.display="block";theRow.style.visibility="visible";}else{theRow.style.display="none";theRow.style.visibility="hidden";}}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.ui.toggleVisibility");}};JSSHOP.ui.toggleMnuVisibility=function(a){try{theRow=document.getElementById(a);if((theRow.style.display=="block")||(theRow.style.display=="inline-block")){gmnu=document.getElementById("dvMnuT").innerHTML;document.getElementById("dvMnuT").innerHTML="";document.getElementById("mnuT").innerHTML=gmnu;theRow.style.display="none";theRow.style.visibility="hidden";}else{gmnu=document.getElementById("mnuT").innerHTML;document.getElementById("mnuT").innerHTML="";document.getElementById("dvMnuT").innerHTML=gmnu;theRow.style.display="block";theRow.style.visibility="visible";}}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.ui.toggleVisibility");}};JSSHOP.ui.toggleModule=function(a,b,f,c){try{caption=document.getElementById(a).innerHTML;JSSHOP.ui.toggleVisibility(b);if(f==="noQvalue"){}else{if(caption===f){document.getElementById(a).innerHTML=c;}else{document.getElementById(a).innerHTML=f;}}}catch(d){JSSHOP.logJSerror(d,arguments,"JSSHOP.ui.toggleModule");}};JSSHOP.ui.toggleNuModule=function(a,b){try{caption=document.getElementById(a).innerHTML;JSSHOP.ui.toggleVisibility(b);if(caption.indexOf("more")!=-1){document.getElementById(a).innerHTML='<i class="small-material-icons" style="font-size:24px">expand_less</i>';}else{document.getElementById(a).innerHTML='<i class="small-material-icons" style="font-size:24px">expand_more</i>';}}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.ui.toggleNuModule");}};JSSHOP.ui.setCBBClickEnd=function(d,a,c,b){d.className=c;JSSHOP.stopIntervalEvent(trgr_bclck[a]);b();return;};JSSHOP.ui.setNuCBBClickClr=function(g,c,b,a,d){try{strJobThread=JSSHOP.getUnixTimeStamp();g.className=c;if(g.getAttribute("data-dblclick")==null){g.setAttribute("data-dblclick",1);setTimeout(function(){if(g.getAttribute("data-dblclick")==1){JSSHOP.startIntervalEvent(trgr_bclck[strJobThread],function(){JSSHOP.ui.setCBBClickEnd(g,strJobThread,b,a);},d);}g.removeAttribute("data-dblclick");},250);}else{g.removeAttribute("data-dblclick");}}catch(f){JSSHOP.startIntervalEvent(trgr_bclck[strJobThread],function(){JSSHOP.ui.setCBBClickEnd(g,strJobThread,b,a);},d);JSSHOP.logJSerror(f,arguments,"JSSHOP.ui.setCBBClickClr");}};JSSHOP.ui.setCBBClickClr=function(d,c,b,a){JSSHOP.ui.setNuCBBClickClr(d,c,b,a,380);};JSSHOP.ui.setSaveBtnClick=function(a,b){a.innerHTML="";a.disabled=true;doSpinSet(a.id,"small",null);JSSHOP.ui.setNuCBBClickClr(a,"cls_button cls_button-medium brdrClrHdr txtClrGrey","cls_button cls_button-medium",b,380);};JSSHOP.ui.doDefBtn=function(a,b){tmpRd="<div class=\"crsrPointer\"><div onclick=\"javascript:JSSHOP.ui.setCBBClickClr(this,'slmtable brdrClrNrml','slmtable brdrClrHdr', function(){"+b+'});" class="txtBig slmtable brdrClrHdr">';tmpRd+=a+"</div></div>";return tmpRd;};JSSHOP.ui.doDefCBBCC=function(c,a,d){JSSHOP.ui.setCBBClickClr(document.getElementById(c),"txtClrHdr","clsDummy",function(){d;});};JSSHOP.ui.popLmenu=function(){try{timerID=setInterval("JSFX.MakeFloatingLayer.animate()",30);setTimeout("clearInterval(timerID)",2000);}catch(a){JSSHOP.logJSerror(a,arguments,"JSSHOP.popLmenu");}};JSSHOP.ui.deleteRow=function(a){try{tmpTRowI=a.parentNode.parentNode.rowIndex;a.parentNode.parentNode.deleteRow(tmpTRowI);}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.ui.deleteRow");}};JSSHOP.ui.popAndAppendLbox=function(a,c){try{tmpLbox=document.getElementById("lightbox");tmpLCbox=document.getElementById("lightbox_content");tmpLbox.style.display="inline";if(c=="y"){tmpLCbox.innerHTML="";}tmpLCbox.appendChild(a);tmpVheight=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight;if(tmpLCbox.clientHeight>=tmpVheight){tmpLbox.style.position="absolute";newel=document.createElement("div");newel.innerHTML="New Inserted";tmpLCbox.appendChild(newel);tmpLbox.style.height=tmpLCbox.clientHeight+180;}tmpLCbox.style.display="block";tmpLCbox.style.position="relative";stop=getScrollTop();scrollToElement("dvHdr");window.scrollTo(0,0);tmpLCbox.style.top="5px";}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.popAndAppendLbox");}};JSSHOP.ui.popAndFillLbox=function(a){try{tmpLbox=document.getElementById("lightbox");tmpLCbox=document.getElementById("lightbox_content");tmpLbox.style.display="inline";if(a=="noQvalue"){}else{if(a=="dbug"){tmpLCbox.innerHTML='<div style="overflow:auto;min-height: 231px; min-width: 368px"  contenteditable="true">'+currDBUGstr+"</div>";}else{tmpLCbox.innerHTML=a;}}tmpLCbox.style.position="absolute";tmpVheight=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight;if(tmpLCbox.clientHeight>=tmpVheight){newel=document.createElement("div");newel.innerHTML="New Inserted";tmpLCbox.appendChild(newel);tmpLbox.style.height=tmpLCbox.clientHeight+180;}tmpLCbox.style.display="block";stop=getScrollTop();scrollToElement("dvHdr");window.scrollTo(0,0);tmpLCbox.style.top="5px";if(getViewportWidth()>500){}iMdl=Math.round((getViewportWidth()-tmpLCbox.clientWidth)/2);tmpLCbox.style.left=iMdl+"px";}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.popAndFillLbox");}};JSSHOP.ui.popLbox=function(){try{document.getElementById("lightbox").style.display="inline";}catch(a){JSSHOP.logJSerror(a,arguments,"JSSHOP.popLbox");}};JSSHOP.ui.closeLbox=function(){try{document.getElementById("lightbox").style.display="none";document.getElementById("lightbox_content").style.top="-800px";document.getElementById("lightbox_content").style.display="none";}catch(a){JSSHOP.logJSerror(a,arguments,"JSSHOP.closeLbox");}};JSSHOP.ui.setfaction=function(d,b,a){try{if(a!=null){if((confirm(a))&&(b)){document[d].submit();}else{a="";}}if(b){document[d].submit();}}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.setfaction");}};JSSHOP.ui.setTopTip=function(a){try{strTip='<img src="images/checked_g.gif" class="clsToolTipImage">';strTip+='&nbsp;<span class="txtSmall txtClrDlg">'+a+"</span>";return strTip;}catch(b){JSSHOP.logJSerror(b,arguments,"JSSHOP.setfaction");return" - ";}};JSSHOP.ui.setLblHighlight=function(c,b,f,a){try{JSSHOP.ui.addEvent(c,"focus",function(){f.className="txtClrHdr";ax=c.value;c.value="";c.value=ax;c.selectionStart=c.selectionEnd=10000;});JSSHOP.ui.addEvent(c,"blur",function(){f.className="txtClrDDlg";return false;});}catch(d){JSSHOP.logJSerror(d,arguments,"JSSHOP.setLblHighlight");}};JSSHOP.ui.doInpDVFocusEv=function(c,a){try{if(c.value==a){c.value="";}c.style.color="#000000";}catch(b){JSSHOP.logJSerror(b,arguments,doInputFocusEv);}};JSSHOP.ui.doInpDVBlurEv=function(c,a){try{if(c.value==""){c.value=a;}c.style.color="#999966";}catch(b){JSSHOP.logJSerror(b,arguments,"doInputBlurEv");}};JSSHOP.ui.doDivDVFocusEv=function(c,a){try{if(c.innerText==a){c.innerText="";}c.style.color="#000000";}catch(b){JSSHOP.logJSerror(b,arguments,doDivFocusEv);}};JSSHOP.ui.doDivDVBlurEv=function(c,a){try{if(c.innerText.length<3){c.innerText=a;}c.style.color="#999966";}catch(b){JSSHOP.logJSerror(b,arguments,"doDivBlurEv");}};JSSHOP.ui.doClassSet=function(c,a){try{c.className=a;}catch(b){JSSHOP.logJSerror(b,arguments,"doClassSet");}};JSSHOP.ui.setDefFval=function(d,a,b){try{if(theB.nodeName.toUpperCase()==="DIV"){if(b!=="noQvalue"){JSSHOP.ui.doDivDVBlurEv(d,a);}JSSHOP.ui.addEvent(d,"focus",function(){JSSHOP.ui.doDivDVFocusEv(d,a);});JSSHOP.ui.addEvent(d,"blur",function(){JSSHOP.ui.doDivDVBlurEv(d,a);});}else{if(b!=="noQvalue"){JSSHOP.ui.doInpDVBlurEv(d,a);}JSSHOP.ui.addEvent(d,"focus",function(){JSSHOP.ui.doInpDVFocusEv(d,a);});JSSHOP.ui.addEvent(d,"blur",function(){JSSHOP.ui.doInpDVBlurEv(d,a);});}}catch(c){JSSHOP.logJSerror(c,arguments,"JSSHOP.setDefFval");return" - ";}};JSSHOP.ui.addEvent=function(c,b,a){if(c.attachEvent){c.attachEvent("on"+b,a);}else{if(c.addEventListener){c.addEventListener(b,a,true);}else{c["on"+b]=a;}}};JSSHOP.ui.removeEvent=function(c,b,a){if(c.detachEvent){c.detachEvent("on"+b,a);}else{if(c.removeEventListener){c.removeEventListener(b,a,true);}else{c["on"+b]=null;}}};JSSHOP.ui.stopEvent=function(a){a||window.event;if(a.stopPropagation){a.stopPropagation();a.preventDefault();}else{if(typeof a.cancelBubble!="undefined"){a.cancelBubble=true;a.returnValue=false;}}return false;};JSSHOP.shop.setCurrItemArr=function(a){currItemArr=null;currItemArr=a;};JSSHOP.shop.getCurrItemArr=function(){return currItemArr;};JSSHOP.shop.setCurrItemsArr=function(a){currItemsArr=null;currItemsArr=a;};JSSHOP.shop.getCurrItemsArr=function(){return currItemsArr;};JSSHOP.shop.setCurrMItemsArr=function(a){currMItemsArr=null;currMItemsArr=a;};JSSHOP.shop.getCurrMItemsArr=function(){return currMItemsArr;};JSSHOP.shop.getCurrIArrIndex=function(a){return currItemsArr[a];};JSSHOP.shop.getCurrMIArrIndex=function(a){return currMItemsArr[a];};var setPopCartIArr=function(c,a,d){currCartIArr=null;currCartIArr=[];currCartIArr=JSON.parse(a);JSSHOP.shop.doCartAddPop();};var xdoAddFnsh=function(c,a,d){tmpDOs=null;tmpDOs={};tmpDOs["ws"]="where ci_uid=? and ci_coid=? and ci_cartqty >? and ci_rtype=? and ci_cartid=?";tmpDOs["wa"]=[quid,cid,0,5,cartID];oi=getNuDBFnvp("qcartitem",5,null,tmpDOs);doQComm(oi["rq"],null,"setPopCartIArr");};var xrenderCartPop=function(c,a,d){JSSHOP.ui.popAndFillLbox("loading...");tmpDOs=null;tmpDOs={};tmpQtInt=6;if(a.indexOf("_id")!=-1){var e=null;e=JSON.parse(a);ts=e[0];JSSHOP.shared.setFrmFieldVal("qcartitem","_id",ts._id);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_cartqty",Math.round(ts.ci_cartqty)+1);tmpDOs["ws"]="where ci_uid=? and ci_coid=? and ci_pid=?";tmpDOs["wa"]=[quid,cid,strRecID];tmpQtInt=7;}else{JSSHOP.shared.setFrmFieldVal("qcartitem","ci_cartqty",1);}tmpDOs["knvp"]=JSSHOP.shared.getFrmVals(document["qcartitem"],"nada");oi=getNuDBFnvp("qcartitem",tmpQtInt,c,tmpDOs);doQComm(oi["rq"],c,"xdoAddFnsh");};JSSHOP.shop.doQIadd=function(g,b,c,d){try{tmpVindex=d;tsa={};tsa=currProdsArr[g][d];strRecID=tsa._id;strRecType=51;var a=new Date().getTime();JSSHOP.shared.setFrmFieldVal("qcartitem","ci_uid",quid);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_cartid",cartID);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_coid",cid);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_catid",tsa.i_catid);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_pid",strRecID);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_title",tsa.i_title);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_price_a",tsa.i_price_a);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_price_b",tsa.i_price_b);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_dimen_n",tsa.i_dimen_n);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_dimen_v",tsa.i_dimen_v);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_img",tsa.i_img);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_vala",tsa.i_vala);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_valb",catid);JSSHOP.shared.setFrmFieldVal("qcartitem","ci_dadded",a);tmpDOs=null;tmpDOs={};tmpDOs["ws"]="where ci_uid=? and ci_coid=? and ci_pid=?";tmpDOs["wa"]=[quid,cid,strRecID];oi=getNuDBFnvp("qcartitem",5,null,tmpDOs);doQComm(oi["rq"],b,"xrenderCartPop");}catch(f){alert(f);}};JSSHOP.shop.doItemShowPop=function(){loadNuJSModal("tplates/aa-mod-show-item.html?tt="+JSSHOP.getUnixTimeStamp(),"trans");};JSSHOP.shop.doCartAddPop=function(){JSSHOP.ui.popAndFillLbox(JSSHOP.shop.renderNuCartItems());};JSSHOP.shop.doCAshow=function(b,a){JSSHOP.ui.setCBBClickClr(document.getElementById(a),"crsrPointer icndbtn slmtable bkgdClrTtl brdrClrHdr txtClrHdr fltrImgInvClr","crsrPointer icndbtn",function(){void (0);});JSSHOP.shared.setFrmVals("qitem",tmpVitemArr[tmpVindex],function(){doCartAddPop();});};JSSHOP.shop.doIshow=function(b,a){JSSHOP.shop.setCurrItemArr(currProdsArr[b][a]);JSSHOP.shared.setFrmVals("qitem",currProdsArr[b][a],function(){JSSHOP.shop.doItemShowPop();});};JSSHOP.shop.getIShowstr=function(c,a,b){strTret="<div onclick=\"JSSHOP.ui.setCBBClickClr(this,'crsrPointer brdrClrHdr','crsrPointer brdrNone', function(){JSSHOP.shop.doIshow('"+c+"',"+a+');});" class="crsrPointer brdrNone">';strTret+=b+"</div>";return strTret;};JSSHOP.shop.getPrdPriceStr=function(f,c,b,a,g){retStrPrHtml='<br><span class="txtBig txtClrDlg">'+g+"</span>";try{na=a-g;nd=Math.round((na/a)*100);retStrPrHtml="";retStrPrHtml=g;return retStrPrHtml;}catch(d){return retStrPrHtml;}};JSSHOP.shop.getPrdImgStr=function(b,a){retIstrI="images/example.png";try{tmpValb=a;if((tmpValb.indexOf("lcl-")!=-1)||(tmpValb.indexOf("rem-")!=-1)){a=tmpValb.substring(4,tmpValb.length);}if(a.indexOf(".")!=-1){if((b=="prodpg")||(b=="modItem")){retIstrI="images/pimgs/"+a;}else{retIstrI="images/pimgs/s_thumb"+a;}}if(isPhP=="no"){if(a.indexOf(".gif")!=-1){if(b=="prdmedia"){tmpEstr=app.doThmbStr(a);document.getElementById("fldChallArray").value=tmpEstr;fullIstr=document.getElementById("fldChallArray").value;retIstrI="data:image/jpeg;base64, "+fullIstr;}else{tmpEstr=app.doGifStr(a);document.getElementById("fldChallArray").value=tmpEstr;fullIstr=document.getElementById("fldChallArray").value;retIstrI="data:image/gif;base64, "+fullIstr;}}else{if(a.indexOf(".mp4")!=-1){if(b=="prdmedia"){tmpEstr=app.doThmbStr(a);document.getElementById("fldChallArray").value=tmpEstr;fullIstr=document.getElementById("fldChallArray").value;retIstrI="data:image/jpeg;base64, "+fullIstr;}else{tmpEstr=app.doGifStr(a);document.getElementById("fldChallArray").value=tmpEstr;fullIstr=document.getElementById("fldChallArray").value;retIstrI="data:video/mp4;base64, "+fullIstr;}}else{tmpEstr=app.doThmbStr(a);document.getElementById("fldChallArray").value=tmpEstr;fullIstr=document.getElementById("fldChallArray").value;retIstrI="data:image/jpeg;base64, "+fullIstr;}}}return retIstrI;}catch(c){return retIstrI;}};JSSHOP.shop.setPrdImg=function(c,a){try{if(ntImgCtr[c]>=a){clear(c)();currPgTitle="c"+JSSHOP.getUnixTimeStamp();document.title=currPgTitle;}else{ass=null;ass=currProdsArr[c][ntImgCtr[c]];image=null;image=new Image();image.onload=function(){if(document.getElementById(c+ass._id)){document.getElementById(c+ass._id).src=image.src;}else{}ntImgCtr[c]=ntImgCtr[c]+1;};image.onerror=function(){ntImgCtr[c]=ntImgCtr[c]+1;};image.src=JSSHOP.shop.getPrdImgStr(c,ass.i_img);}}catch(b){ntImgCtr[c]=ntImgCtr[c]+1;}};JSSHOP.shop.setCatPrdImgs=function(a){try{ntImgCtr[a]=0;restart(a,function(){JSSHOP.shop.setPrdImg(a,currProdsArr[a].length);},currImgSleep)();}catch(b){alert("setCatPrdImgs "+b);}};JSSHOP.shop.rndrPrdMedia=function(b,c,d){alert(c);try{if(c.indexOf("_id")!=-1){}}catch(a){alert("rndrPrdMedia "+a);}};JSSHOP.shop.getPrdMedia=function(b,d,a){try{tmpDOs=null;tmpDOs={};tmpDOs["ws"]="where m_coid=? and  m_catid=? and m_pid=? and m_rtype=?";tmpDOs["wa"]=[cid,b,d,"5"];oi=getNuDBFnvp("qmedia",5,null,tmpDOs);doQComm(oi["rq"],null,a);}catch(c){alert("JSSHOP.shop.getPrdMedia: "+c);}};JSSHOP.shop.getPrdsFullStr=function(c,h,a,j,g){currProdsArr[c]=h;try{var b=arrUprefs["prfsSHOPuser"][0].scv;}catch(f){var b="r";}try{var k=arrUprefs["prfsSHOPuser"][0].scp;}catch(f){var k="u";}strUCPID="";strUCPTtl="";strCatID="";strCatName="";strHtml="";strMLinks="";strImgDsct="";var d=h.length;tstr="";iint=0;strHtml+='<ol class="float">';ts=null;while(iint<d){try{ts=h[iint];if(ts._id){strImgDsct="";subTIdesc=ts.i_desc;if((c=="prodpg")||(pid=="aa-show-item")){subIdesc=subTIdesc;strImgDsct+='<div><img onclick="document.location.href = this.src" id="'+c+ts._id+'" src="images/misc/trans.gif" class="activator prodBigImage crsrPointer"></div>';}else{subIdesc=subTIdesc.substring(0,15);strImgDsct+='<a href="index.html?pid=aa-show-item&itemid='+ts._id+"&cid="+ts.i_coid+"&catid="+ts.i_catid+'">';if(b=="r"){strImgDsct+='<img id="'+c+ts._id+'" src="images/misc/example.png" class="prodRowImage">';}else{strImgDsct+='<img id="'+c+ts._id+'" src="images/misc/example.png" class="prodImage">';}strImgDsct+="</a>";}if((c=="prodpg")&&(pid=="aa-show-item")){strHtml+='<li  class="prodBigBox">';}else{if(b=="r"){strHtml+='<li  class="prodRowBox" style="width:100%;">';}else{strHtml+='<li class="float-item prodBox" style="">';}}strHtml+='<a class="txtDecorNone"  href="index.html?pid=aa-show-item&itemid='+ts._id+"&cid="+ts.i_coid+"&catid="+ts.i_catid+'">';strHtml+='<div class="txtBold" style="padding: 3px;">';strHtml+=ts.i_title;strHtml+="</div></a>";strHtml+=strImgDsct;if(c=="prodpg"){strHtml+='<div id="dvPrdMedia"></div>';}strHtml+='<div class="txtSmall txtClrHdr" style="padding:6px;">';strHtml+=subIdesc;strHtml+="</div>";strPriceHtml=JSSHOP.shop.getPrdPriceStr(c,iint,ts._id,ts.i_price_a,ts.i_price_b);strHtml+='<span class="txtBig txtBold txtClrDGreen"  style="margin: 15px;">'+strPriceHtml+"</span>";strHtml+='<div  id="tdCI'+ts._id+'" onclick="javascript:JSSHOP.shop.doQIadd(\''+c+"',this.id,'"+ts._id+"','"+iint+'\');" class="cls_button cls_button-xxsmall bkgdClrNrml brdrClrDlg txtClrHdr">';strHtml+='<i class="material-icons" alt="add cart" title="add" value="shopping_cart">&#xe8cc;</i>';strHtml+='<i class="material-icons" alt="add cart" title="add" value="add">&#xe145;</i>';strHtml+="</div>";strHtml+='<input type="hidden" id="prd'+5+iint+'" value="">';strHtml+="</li>";}}catch(f){}iint++;}strHtml+="</ol>";return strHtml;};JSSHOP.shop.getDefaultPageNav=function(b,f){try{var d=1,a=[];pgnString='<ol class="pagination">';startPg=(b-d)>0?b-d:1;endPg=(b+d+2)>f?f:b+d+2;for(ika=startPg;ika<endPg;ika++){a.push(ika);}a.push(endPg);if(startPg-2>0){currPAlink="javascript:scrollToElement('dvHdr');loadCatChunk("+1+")";pgnString+='<li class="page"><a href="'+currPAlink+'">1</a></li>';}if(startPg-1>0){currPAlink="javascript:scrollToElement('dvHdr');loadCatChunk("+(startPg-1)+")";if(startPg-1==1){pgnString+='<li class="page"><a href="'+currPAlink+'">1</a></li>';}else{pgnString+='<li class="page"><a href="'+currPAlink+'">...</a></li>';}}for(idd=0;idd<a.length;idd++){currPAlink="javascript:scrollToElement('dvHdr');loadCatChunk("+a[idd]+")";if(a[idd]==b+1){pgnString+='<li class="page"><b>'+a[idd]+"</b></li>";}else{pgnString+='<li class="page"><a href="'+currPAlink+'">'+a[idd]+"</a></li>";}}if(endPg+1<=f){currPAlink="javascript:scrollToElement('dvHdr');loadCatChunk("+(endPg+1)+")";if(endPg+1==f){pgnString+='<li class="page"><a href="'+currPAlink+'">'+f+"</a></li>";}else{pgnString+='<li class="page"><a href="'+currPAlink+'">...</a></li>';}}if(endPg+2<=f){currPAlink="javascript:scrollToElement('dvHdr');loadCatChunk("+f+")";pgnString+='<li class="page"><a href="'+currPAlink+'">'+f+"</a></li>";}pgnString+="</ol>";return pgnString;}catch(c){alert(c);}};JSSHOP.shop.renderNuCartItems=function(){tstr="";iint=0;ppint=1;cartTtl=0;ttCAA=currCartIArr[0];len=currCartIArr.length;strHtml='<div class="txtSmall txtBold mintwofh highZ tatCross">';strHtml+='<div onclick="JSSHOP.ui.closeLbox();" class="slmtable txtClrRed txtBold brdrClrRed crsrPointer" style="float:right">Close</div>';strHtml+='<div class="txtClrHdr bkdgClrDlg txtBold" style="margin-bottom: 15px;">';strHtml+='<i class="material-icons"  style="margin-top: 5px;font-size:14px;"  alt="shopping_cart" title="shopping_cart">&#xe8cc;</i> Cart Preview</a></div>';if(currCartIArr.length){strHtml+="<div onclick=\"javascript:document.location.href='index.html?pid=aa-show-cart&cid="+cid+"&ppid="+ppid+'\'" class="rtable txtClrHdr bkdgClrDlg txtBold crsrPointer" style="margin-bottom: 18px;max-width: 65%; margin: 0 auto;text-align: center">Go To Cart/Checkout -></div>';}strHtml+='<div style="padding-top: 8px; margin: 8px; border-bottom: 1px dashed #D1D5D1;">';strHtml+="</div>";ts=null;while(iint<len){ts=currCartIArr[iint];strRecID=ts._id;strRecType=50;if(ts._id>0){na=ts.ci_price_a-ts.ci_price_b;nd=Math.round((na/ts.ci_price_a)*100);strPriceHtml="";tmpTttl=ts.ci_price_b*ts.ci_cartqty;cartTtl=cartTtl+tmpTttl;if(ts.ci_img){tmpIstrI=JSSHOP.shop.getPrdImgStr(ts.ci_img);}strHtml+='<div style="max-width:78%">';strHtml+='<a class="txtDecorNone" href="index.html?pid=aa-show-item&itemid='+ts.ci_pid+"&cid="+ts.ci_coid+"&catid="+ts.ci_catid+'">';strHtml+='<img src="'+tmpIstrI+'" class="slmtable brdrClrDlg icndbtn" style="align: center;text-align:center;margin:6px;" align="absmiddle">'+ts.ci_title;strHtml+='<span class="txtstriked txtBig txtClrGrey">'+ts.ci_price_b+"</span></a>";strHtml+="</div>";strHtml+='<div style="align: right;text-align:right">';strHtml+="<span onclick=\"javascript:JSSHOP.ui.doDefCBBCC('ahCartIcon', null, document.location.href='index.html?pid=aa-show-cart&cid=' + cid + '&ppid=' + ppid);\" class=\"crsrPointer\"><span class=\"txtBig txtClrDlg txtBold\">x"+ts.ci_cartqty+" = "+tmpTttl+"</span></span>";strHtml+="</div>";strHtml+='<div style="padding-top: 8px; margin: 8px; border-bottom: 1px dashed #D1D5D1;">';strHtml+="</div>";strHtml+='<input type="hidden" id="prd'+5+iint+'" value="">';strHtml+='<input type="hidden" name="item_name_'+ppint+'" value="'+ts.ci_title+'">';strHtml+='<input type="hidden" name="item_number_'+ppint+'" value="'+ts._id+'">';strHtml+='<input type="hidden" name="quantity_'+ppint+'" value="'+ts.ci_cartqty+'">';strHtml+='<input type="hidden" name="amount_'+ppint+'" value="'+ts.ci_price_b+'">';}ppint++;iint++;}if(currCartIArr.length){strHtml+='<div style="text-align: right">Total:<b>'+cartTtl.toFixed(2)+"</b></div>";strHtml+="<div onclick=\"javascript:document.location.href='index.html?pid=aa-show-cart&cid="+cid+"&ppid="+ppid+'\'" class="rtable txtClrHdr bkdgClrDlg txtBold crsrPointer" style="margin-bottom: 18px;max-width: 65%; margin: 0 auto;text-align: center">Go To Cart/Checkout -></div>';}else{strHtml+="<div>"+stxt[34]+"</div>";strHtml+='<div class="collection-item txtSmall txtBold">Recent:<br>'+currUserFavs+"</div>";}strHtml+="</div>";return strHtml;};JSSHOP.jndroid.doPagePopUp=function(c,a){try{app.doPagePopUp(c,a);}catch(b){alert(b);JSSHOP.logJSerror(b,arguments,"JSSHOP.jndroid.doPagePopUp");}};JSSHOP.jndroid.appRetImgUload=function(b,a){try{JSSHOP.shared.setFrmFieldVal("qitem","i_vala",b);JSSHOP.shared.setFrmFieldVal("qitem","i_valb",b);document.getElementById("mod_i_vala").value=b;document.getElementById("mod_i_valb").value=a;tIUID=JSSHOP.shared.getFrmFieldVal("qitem","_id",0);tImgstr="data:image/png;base64, "+b;doItemEdit();}catch(c){alert(c);}};JSSHOP.jndroid.doCutOuts=function(){try{app.getCutOuts();}catch(a){alert("Camera functions only work with our android app and: "+a);}};