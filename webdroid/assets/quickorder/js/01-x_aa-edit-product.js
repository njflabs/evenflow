var aEditProd=function(){if(ppid==0){doQComm("select * from product order by _id desc limit 1",null,"rEditProd");}else{doQComm("select * from product where _id = "+ppid+" order by _id desc limit 1",null,"rEditProd");}};var doPrdEdtCatFill=function(g,b,e){tFelm=document.getElementById("tmpCategoryID");fullstr="";var f=JSON.parse(b);var a=f.length;var d=0;var c=0;theO=document.getElementById("tmpUpsellType");while(d<a){ts=f[d];addCurrListVal(tFelm,ts.CategoryTitle,ts._id);addCurrListVal(theO,ts.CategoryTitle,ts._id);d++;}setCurrListIndex(tFelm,document.getElementById("CategoryID").value);setCurrListIndex(theO,document.getElementById("UpsellType").value);};var rEditProd=function(h,b,f){hasr="n";fullstr="";var g=JSON.parse(b);var a=g.length;var e=0;var d=0;while(e<a){ts=g[e];for(var c in ts){if(e<1){if(ppid==0){if(document.getElementById(c)){arrDBnDocFNames.push(c);}}arrDBFNames.push(c);}if(ts._id==ppid){if(document.getElementById(c)){arrDBnDocFNames.push(c);document.getElementById(c).value=ts[c];}}fullstr+=c+" . "+ts[c]+"\n";}e++;}doQComm("select _id,CategoryTitle from prod_categories order by _id desc limit 100","CategoryID","doPrdEdtCatFill");doQComm("select _id,OptionTitle from prod_options where OptionType=1001 order by _id desc limit 100","ProductOptions","doPrdEdtOptFill");tmpVpo=document.getElementById("ProductOptions").value;if(tmpVpo.indexOf("[")!=-1){}};var fncTnew=function(c,a,b){tJstr=document.getElementById("binProductOptions").value;theREncDA=[];if(tJstr.indexOf("[")!=-1){theREncDA=JSON.parse(tJstr);}theFa=JSON.parse(a);arrTmp=theREncDA.concat(theFa);document.getElementById("binProductOptions").value=JSON.stringify(arrTmp);};var showProdOptEdit=function(){tJstr=document.getElementById("ProductOptions").value;hasr="n";fullstr="";var d=JSON.parse(tJstr);var a=d.length;var c=0;var b=0;ts=null;while(c<a){ts=d[c];c++;}};var addPrdOpGrp=function(){tFelm=document.getElementById("dynProductOptions");tFo=document.getElementById("tmpProductOptions");var b=[];theArr=getCurrListArr(tFelm);isO=setCurrListIndex(tFo,theArr[0]);if(isO=="noQvalue"){tJstr=document.getElementById("ProductOptions").value;try{if(tJstr.indexOf("[")!=-1){b=JSON.parse(tJstr);}}catch(a){alert("theREncDA erre: "+a);}theFa=[];tmpArrEPO=null;tmpArrEPO={};tmpArrEPO["i"]=theArr[0];tmpArrEPO["o"]=["0"];tmpArrEPO["t"]=theArr[1];theFa.push(tmpArrEPO);arrTmp=b.concat(theFa);document.getElementById("ProductOptions").value=JSON.stringify(arrTmp);addCurrListVal(tFo,theArr[1],theArr[0]);setCurrListIndex(tFo,theArr[1],theArr[0]);JSSHOP.ui.popAndFillLbox("Changes made. Dont forget to save...");}};var doPrdEdtOptFill=function(i,b,g){tFelm=document.getElementById("dynProductOptions");tFo=document.getElementById("tmpProductOptions");fullstr="";var h=JSON.parse(b);var a=h.length;var d=0;var c=0;while(d<a){ts=h[d];addCurrListVal(tFelm,ts.OptionTitle,ts._id);d++;}d=0;c=0;tlen=0;tJstr=document.getElementById("ProductOptions").value;try{theEncDA=JSON.parse(tJstr);tlen=theEncDA.length;while(d<tlen){newArr=theEncDA[d];addCurrListVal(tFo,newArr.t,newArr.i);doQComm("select _id,OptionTitle,OptionType from prod_options where OptionType = "+newArr.i+" order by OptionTitle desc limit 100","gore","fncTnew");d++;}}catch(f){}finally{}};var checkProdEdit=function(b,c){if((c==7)&&(ppid==0)){m=6;}else{m=c;}var a=document.getElementById("ProductID").value;if(a.length<1){alert("You must enter a ProductID");return;}tmpVpar=[];tmpVpar.push("ProductID");tmpVpar.push("ProductShortDescriptionENG");oi=getDBFnvp(b,m,tmpVpar);oi=getDBFnvp(b,m,"oh");tsas=JSON.stringify(oi);doQComm(oi["rq"],null,"hu");JSSHOP.ui.popAndFillLbox(tsas);};