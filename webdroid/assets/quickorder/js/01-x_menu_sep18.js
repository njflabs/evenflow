var tmpSTrSorE="show";if(currAdmnMode=="y"){tmpSTrSorE="edit";}var doSubMenuLoad=function(){try{arrToFill=null;arrToFill=[];arrToFill=currMenuArr;var c=arrToFill.length;var i=0;var h=0;tstr="";while(i<c){ts=arrToFill[i];if(ts.cat_pid=="0"){}else{crMI="mnuI"+ts.cat_pid;var g=document.getElementById(crMI);var b=document.createElement("li");b.className="omenuartigo";var d=document.createElement("a");var f=document.createTextNode(ts.cat_title);d.appendChild(f);d.title=ts.cat_title;d.href="index.html?pid=aa-"+tmpSTrSorE+"-category&ppid="+ts._id+"&cid="+ts.cat_coid+"&catid="+ts._id;b.appendChild(d);g.appendChild(b);}i++;}}catch(j){JSSHOP.logJSerror(j,arguments,"doSubMenuLoad");}if(catid==0){hstring="";mstring='<a href="index.html?cid='+ +cid+'">'+hstring+"</a>";fmcstr='<div style="margin-left: 15px" class="crsrPointer txtSmall txtClrBlack">'+mstring+"</div>";}else{newMTmpArr=[];newMTmpArr=JSSHOP.shared.sort(currMenuArr,"cat_pid","sortDesc");var c=newMTmpArr.length;var i=0;var h=0;tstr="";currTmpPID=0;ts=null;hstring="";mstring='<a href="index.html">'+hstring+"</a>";fmcstr=mstring;mcat=" ";subcat="";while(i<c){ts=newMTmpArr[i];if(ts._id==catid){if(ts.cat_pid=="0"){if(pid=="aa-show-category"){mcat="&nbsp;&nbsp;&nbsp;"+ts.cat_title;}else{mcat='<a href="index.html?pid=aa-'+tmpSTrSorE+"-category&cid="+ts.cat_coid+"&catid="+ts._id+'">'+ts.cat_title+"</a>";}}else{if(pid=="aa-show-category"){subcat="&nbsp;-&nbsp;&nbsp;"+ts.cat_title;}else{subcat='&nbsp;-&nbsp;&nbsp;<a href="index.html?pid=aa-'+tmpSTrSorE+"-category&cid="+ts.cat_coid+"&catid="+ts._id+'">'+ts.cat_title+"</a>";}currTmpPID=ts.cat_pid;}}if(ts._id==currTmpPID){mcat='&nbsp;&nbsp;&nbsp;<a href="index.html?pid=aa-'+tmpSTrSorE+"-category&cid="+ts.cat_coid+"&catid="+ts._id+'">'+ts.cat_title+"</a>";}i++;}fmcstr="<div>"+mcat+"  "+subcat+"</div>";}JSSHOP.ui.setTinnerHTML("dvMCatTree",fmcstr);};var getMMenu=function(){var a=document.createElement("ul");a.className="animenu__nav";tmpLI=document.createElement("li");tmpLI.className="omenuartigo";tmpA=document.createElement("a");linkText=document.createTextNode("Home");tmpA.appendChild(linkText);tmpA.title="Home";tmpA.href="index.html?cid="+cid;tmpLI.appendChild(tmpA);tmpUL=document.createElement("ul");tmpUL.id="mnuIHome";tmpUL.className="animenu__nav__child";tmpLI.appendChild(tmpUL);a.appendChild(tmpLI);return a;};var doAdmnMnuLd=function(){var b=document.getElementById("mnuT");var a=getMMenu();tmpLI=document.createElement("li");tmpLI.className="omenuartigo";tmpA=document.createElement("a");linkText=document.createTextNode("Companies");tmpA.appendChild(linkText);tmpA.title="Companies";tmpA.href="admin.html?pid=aa-edit-cos";tmpLI.appendChild(tmpA);tmpUL=document.createElement("ul");tmpUL.className="animenu__nav__child";tmpUL.id="mnuIAdmin";tmpLI.appendChild(tmpUL);a.appendChild(tmpLI);b.appendChild(a);};var doSMStart=function(){tmpDOs=null;tmpDOs={};tmpDOs["ws"]="where cat_pid>? and cat_coid=?";tmpDOs["wa"]=[0,cid];oi=getNuDBFnvp("qcat",5,null,tmpDOs);if(cid==0){doQComm(oi["rq"],null,"doSubMenuLoad");}else{doQComm(oi["rq"],null,"doSubMenuLoad");}};var doShopMnuLd=function(k,j,i){hasr="n";fullstr="";mnotAppended="n";strMLink="index.html?pid=aa-show-category";var h=getMMenu();try{var l=JSON.parse(j);var f=l.length;var b=0;var d=0;tstr="";while(b<f){ts=l[b];currMenuArr.push(ts);if(ts.cat_pid=="0"){tmpLI=document.createElement("li");tmpLI.className="omenuartigo";tmpA=document.createElement("a");linkText=document.createTextNode(ts.cat_title);tmpA.appendChild(linkText);tmpA.title=ts.cat_title+"&nbsp;&nbsp;&nbsp;&nbsp;";tmpA.href=strMLink+"&ppid="+ts._id+"&cid="+ts.cat_coid+"&catid="+ts._id;tmpLI.appendChild(tmpA);tmpUL=document.createElement("ul");tmpUL.className="animenu__nav__child";tmpUL.id="mnuI"+ts._id;tmpLI.appendChild(tmpUL);h.appendChild(tmpLI);}b++;}document.getElementById("mnuT").appendChild(h);imgplay=null;imgplay=new Image();imgplay.onload=function(){doSubMenuLoad();};imgplay.onerror=function(){doSubMenuLoad();};imgplay.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";document.getElementById("mnuT").appendChild(imgplay);}catch(g){alert("doShopMnuLd.error: "+j);}};var doNuShopMnuLd=function(c){hasr="n";fullstr="";mnotAppended="n";strMLink="index.html?pid=aa-show-category";var b=getMMenu();try{var h=JSON.parse(c.rs);var a=h.length;var f=0;var d=0;tstr="";while(f<a){ts=h[f];currMenuArr.push(ts);if(ts.cat_pid=="0"){tmpLI=document.createElement("li");tmpLI.className="omenuartigo";tmpA=document.createElement("a");linkText=document.createTextNode(ts.cat_title);tmpA.appendChild(linkText);tmpA.title=ts.cat_title+"&nbsp;&nbsp;&nbsp;&nbsp;";tmpA.href=strMLink+"&ppid="+ts._id+"&cid="+ts.cat_coid+"&catid="+ts._id;tmpLI.appendChild(tmpA);tmpUL=document.createElement("ul");tmpUL.className="animenu__nav__child";tmpUL.id="mnuI"+ts._id;tmpLI.appendChild(tmpUL);b.appendChild(tmpLI);}f++;}document.getElementById("mnuT").appendChild(b);imgplay=null;imgplay=new Image();imgplay.onload=function(){doSubMenuLoad();};imgplay.onerror=function(){doSubMenuLoad();};imgplay.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=";document.getElementById("mnuT").appendChild(imgplay);if(window[c.el]){mf=window[c.el];mf();}}catch(g){alert("do NuShopMnuLd.error: "+JSON.stringify(c.rs));}};var doMnuFnsh=function(){bbb=false;};var doNuMMenuLd=function(a){currMenuArr.length=0;currMenuArr=[];JSSHOP.ui.setTinnerHTML("mnuT","");strCurl=document.location.href;tmpDOs=null;tmpDOs={};tmpDOs["o"]="cat_valb Desc";tmpDOs["ws"]="where cat_coid=?";tmpDOs["wa"]=[cid];oi=getNuDBFnvp("qcat",5,null,tmpDOs);if(cid==0){doQComm(oi["rq"],null,"doShopMnuLd");}else{ctac=nCurrCnxOb();ctac["q"]=oi["rq"];ctac["cb"]="doNuShopMnuLd";ctac["ts"]="123";ctac["lz"]="n";ctac["el"]=a;ccheD=JSSHOP.shared.getFrmFieldVal("qco","c_dadded","123");ctac["fn"]="catmenu"+ccheD+"-"+currCacheVer+"-"+cid+".txt";doNurQComm(ctac);}};var doMMenuLd=function(){doNuMMenuLd("doMnuFnsh");};var doCollsLoad=function(){tmpMCollItem=null;tmpMCollItem={};tmpMCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-item&cid="+cid+"&catid="+catid+"'";tmpQCollItem["mi"]="&#xe145;";tmpMCollItem["ti"]=stxt[17];tmpMCollItem["c"]="coll-menu-item";currMCollItems["aa-add-item"]=tmpMCollItem;tmpMCollItem=null;tmpMCollItem={};tmpMCollItem["u"]="javascript:document.location.href='index.html?pid=aa-show-item&cid="+cid+"&catid="+catid+"&itemid="+itemid+"'";tmpWCollItem["mi"]="&#xe8ff;";tmpMCollItem["ti"]=stxt[67];tmpMCollItem["c"]="collection-item";currMCollItems["aa-show-item"]=tmpMCollItem;tmpMCollItem=null;tmpMCollItem={};tmpMCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-item&cid="+cid+"&catid="+catid+"&itemid="+itemid+"'";tmpQCollItem["mi"]="&#xe3c9;";tmpMCollItem["ti"]=stxt[20];tmpMCollItem["c"]="coll-menu-item";currMCollItems["aa-edit-item"]=tmpMCollItem;tmpMCollItem=null;tmpMCollItem={};tmpMCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-item&cid="+cid+"&catid="+catid+"&itemid="+itemid+"&cmdci=y'";tmpWCollItem["mi"]="&#xe14d;";tmpMCollItem["ti"]=stxt[69];tmpMCollItem["c"]="coll-menu-item";currMCollItems["aa-copy-item"]=tmpMCollItem;tmpWCollItem=null;tmpWCollItem={};tmpWCollItem["u"]="javascript:document.location.href='index.html?pid=aa-show-category&cid="+cid+"&catid="+catid+"'";tmpWCollItem["mi"]="&#xe8ff;";tmpWCollItem["ti"]=stxt[505];tmpWCollItem["c"]="collection-item";currMCollItems["aa-show-category"]=tmpWCollItem;tmpWCollItem=null;tmpWCollItem={};tmpWCollItem["u"]="javascript:document.location.href='index.html?pid=aa-show-category&fc=y&cid="+cid+"&catid="+catid+"'";tmpWCollItem["mi"]="&#xe363;";tmpWCollItem["ti"]="Refresh";tmpWCollItem["c"]="collection-item";currMCollItems["aa-force-clear"]=tmpWCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-category&cid="+cid+"&catid="+catid+"'";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]=stxt[504];tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-edit-category"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-categories&cid="+cid+"&catid="+catid+"'";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]=stxt[503];tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-edit-categories"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-shop&cid="+cid+"&catid="+catid+"'";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]=stxt[68];tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-edit-shop"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-shops'";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]=stxt[4];tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-edit-shops"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-add-shop'";tmpQCollItem["mi"]="&#xe145;";tmpQCollItem["ti"]=stxt[1];tmpQCollItem["c"]="collection-item";currMCollItems["aa-add-shop"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-show-cart&cid="+cid+"&catid="+catid+"'";tmpQCollItem["mi"]="&#xe8cc;";tmpQCollItem["ti"]=stxt[47];tmpQCollItem["c"]="collection-item";currMCollItems["aa-show-cart"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-settings&cid="+cid+"'";tmpQCollItem["mi"]="&#xe8b8;";tmpQCollItem["ti"]=stxt[61];tmpQCollItem["c"]="collection-item";currMCollItems["aa-settings"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-edit-user&cid="+cid+"'";tmpQCollItem["mi"]="&#xe7fd;";tmpQCollItem["ti"]=stxt[63];tmpQCollItem["c"]="collection-item";currMCollItems["aa-edit-user"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:preAQR();";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]=stxt[65];tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-qrcode"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:getAppDBReq();";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]=stxt[66];tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-appdbreq"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=aa-sqldump'";tmpQCollItem["mi"]="&#xe3c9;";tmpQCollItem["ti"]="SQL dump";tmpQCollItem["c"]="coll-menu-item";currMCollItems["aa-sqldump"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:document.location.href='index.html?pid=login'";tmpQCollItem["mi"]="&#xe897;";tmpQCollItem["ti"]="Login";tmpQCollItem["c"]="collection-item";currMCollItems["aa-login"]=tmpQCollItem;tmpQCollItem=null;tmpQCollItem={};tmpQCollItem["u"]="javascript:JSSHOP.cookies.deleteCookie('quid','','');document.location.href='index.html?lgo=y&cid="+cid+"'";tmpQCollItem["mi"]="&#xe897;";tmpQCollItem["ti"]="Logout";tmpQCollItem["c"]="collection-item";currMCollItems["aa-logout"]=tmpQCollItem;tmpMCollItem=null;tmpMCollItem={};tmpMCollItem["u"]="javascript:document.location.href='index.html?pid=aa-show-app-tools&cid="+cid+"&catid="+catid+"&itemid="+itemid+"'";tmpMCollItem["mi"]="&#xe869;";tmpMCollItem["ti"]="App Tools";tmpMCollItem["c"]="coll-menu-item";currMCollItems["aa-show-app-tools"]=tmpMCollItem;currMCollArr=[];tmpPrfSAL="n";try{tmpPrfSAL=arrUprefs["prfsSHOPuser"][0].sAL;}catch(a){tmpPrfSAL="n";}switch(pid){case"aa-show-item":if((arrAllForms.qco.v[0].c_uid==quid)&&(tmpPrfSAL=="y")){currMCollArr.push("aa-add-item");currMCollArr.push("aa-edit-item");currMCollArr.push("aa-copy-item");currMCollArr.push("aa-edit-category");}break;case"aa-show-category":if((arrAllForms.qco.v[0].c_uid==quid)&&(tmpPrfSAL=="y")){currMCollArr.push("aa-add-item");currMCollArr.push("aa-edit-category");currMCollArr.push("aa-edit-categories");currMCollArr.push("aa-edit-shop");currMCollArr.push("aa-appdbreq");currMCollArr.push("aa-force-clear");}break;case"aa-add-item":currMCollArr.push("aa-show-category");currMCollArr.push("aa-edit-category");currMCollArr.push("aa-edit-categories");break;case"aa-edit-item":currMCollArr.push("aa-show-item");currMCollArr.push("aa-add-item");currMCollArr.push("aa-copy-item");currMCollArr.push("aa-edit-category");currMCollArr.push("aa-edit-categories");currMCollArr.push("aa-show-category");break;case"aa-edit-category":currMCollArr.push("aa-add-item");currMCollArr.push("aa-show-category");currMCollArr.push("aa-edit-categories");currMCollArr.push("aa-edit-shop");currMCollArr.push("aa-edit-shops");currMCollArr.push("aa-appdbreq");break;case"aa-edit-categories":currMCollArr.push("aa-edit-shop");currMCollArr.push("aa-edit-shops");break;case"aa-edit-shop":currMCollArr.push("aa-edit-categories");currMCollArr.push("aa-edit-shops");break;case"aa-edit-user":currMCollArr.push("aa-edit-shop");currMCollArr.push("aa-edit-shops");currMCollArr.push("aa-settings");currMCollArr.push("aa-add-shop");break;default:currMCollArr.push("aa-show-cart");currMCollArr.push("aa-settings");currMCollArr.push("aa-edit-user");currMCollArr.push("recent");currMCollArr.push("aa-add-shop");break;}if((isJApp!=="no")&&(isPhP=="no")){}currMCollArr.push("aa-show-app-tools");if((quid==0)||(quid=="noQvalue")){currMCollArr.push("aa-login");}else{currMCollArr.push("aa-logout");}tmpStrbla="";tmpStrAdmnM="";iti=0;while(iti<currMCollArr.length){if(currMCollArr[iti]=="break"){tmpStrbla+="<div>---</div>";}else{if(currMCollArr[iti]=="recent"){tmpStrbla+='<div class="collection-item txtSmall txtBold"><div style="margin-left:20px">Recent:<br>'+currUserFavs+"</div></div>";}else{if(currMCollItems[currMCollArr[iti]].c=="collection-item"){tmpStrbla+="<a href=\"javascript:void(0);\" onclick=\"javascript:JSSHOP.ui.setNuCBBClickClr(this,'kcoll-menu-item','"+currMCollItems[currMCollArr[iti]].c+"', function(){"+currMCollItems[currMCollArr[iti]].u+'}, 20);" class="'+currMCollItems[currMCollArr[iti]].c+'"><span><i class="menu-material-icons">'+currMCollItems[currMCollArr[iti]].mi+'</i></span><span style="vertical-align:super;padding-left:12px;">'+currMCollItems[currMCollArr[iti]].ti+"</span></a>";}else{tmpStrAdmnM+="<a href=\"javascript:void(0);\" onclick=\"javascript:JSSHOP.ui.setNuCBBClickClr(this,'kcoll-menu-item','"+currMCollItems[currMCollArr[iti]].c+"', function(){"+currMCollItems[currMCollArr[iti]].u+'}, 20);" class="'+currMCollItems[currMCollArr[iti]].c+'"><span><i class="menu-material-icons">'+currMCollItems[currMCollArr[iti]].mi+'</i></span><span style="vertical-align:super;padding-left:12px;">'+currMCollItems[currMCollArr[iti]].ti+"</span></a>";}}}iti++;}return tmpStrAdmnM+tmpStrbla;};